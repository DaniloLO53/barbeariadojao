// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int     @id @default(autoincrement())
  email    String  @unique
  password String
  name     String?
  boards   Board[]

  @@map("users")
}

model Board {
  id          Int       @id @default(autoincrement())
  user_id     Int
  user        User      @relation(fields: [user_id], references: [id], onDelete: Cascade)
  title       String
  description String?
  subjects    Subject[]

  @@map("boards")
}

model Subject {
  id          Int     @id @default(autoincrement())
  board_id    Int
  board       Board   @relation(fields: [board_id], references: [id], onDelete: Cascade)
  title       String
  description String?
  topics      Topic[]

  @@map("subjects")
}

model Topic {
  id          Int     @id @default(autoincrement())
  subject_id  Int
  subject     Subject @relation(fields: [subject_id], references: [id], onDelete: Cascade)
  title       String
  description String?
  cards       Card[]

  @@map("topics")
}

model Card {
  id       Int    @id @default(autoincrement())
  topic_id Int
  topics   Topic  @relation(fields: [topic_id], references: [id], onDelete: Cascade)
  front    String
  back     String

  @@map("cards")
}
